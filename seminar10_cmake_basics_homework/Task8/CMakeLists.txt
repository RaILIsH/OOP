cmake_minimum_required(VERSION 3.22)
project(BubbleSort)
function(BubbleSort input_list output_list)
    set(sorted_list ${input_list})
    list(LENGTH sorted_list len)
    math(EXPR len "${len}-1")
    math(EXPR len1 "${len}-1")
    foreach(i RANGE ${len})
        foreach(j RANGE ${len1})
            math(EXPR j1 "${j}+1")
            list(GET sorted_list ${j} first_elem)
            list(GET sorted_list ${j1} second_elem)
            if(first_elem GREATER second_elem)
                list(REMOVE_AT sorted_list ${j})
                list(INSERT sorted_list ${j} ${second_elem})
                list(REMOVE_AT sorted_list ${j1})
                list(INSERT sorted_list ${j1} ${first_elem})
            endif()
        endforeach()
    endforeach()
    set(${output_list} "${sorted_list}" PARENT_SCOPE)
endfunction()
set(input_list "3;2;1")
message("Unsorted list: ${input_list}")
BubbleSort("${input_list}" sorted_list)
message("Sorted list: ${sorted_list}")